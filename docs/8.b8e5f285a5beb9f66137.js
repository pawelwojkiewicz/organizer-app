(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{z2j9:function(e,t,r){"use strict";r.r(t),r.d(t,"RegistrationModule",function(){return N});var s=r("ofXK"),i=r("tyNb"),n=r("mrSG"),a=r("3Pt+"),o=r("fXoL"),c=r("quSY");class l extends c.a{constructor(e,t){super()}schedule(e,t=0){return this}}class u extends l{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,s=!1;try{this.work(e)}catch(i){s=!0,r=!!i&&i||new Error(i)}if(s)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,s=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&r.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let h=(()=>{class e{constructor(t,r=e.now){this.SchedulerAction=t,this.now=r}schedule(e,t=0,r){return new this.SchedulerAction(this,e).schedule(r,t)}}return e.now=()=>Date.now(),e})();class d extends h{constructor(e,t=h.now){super(e,()=>d.delegate&&d.delegate!==this?d.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return d.delegate&&d.delegate!==this?d.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const b=new d(u);var p=r("7o/Q");r("EY2u"),r("LRne"),r("z6cu");class g{static isNotPresent(e){const t=e.value;return null==t||""===t}static addError(e,t,r){e.errors?e.hasError(t)||(e.errors[t]=r):e.setErrors({[t]:r})}static removeError(e,t){e.errors&&e.hasError(t)&&(Object.keys(e.errors).length>1?delete e.errors[t]:e.setErrors(null))}}class m{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new w(e,this.dueTime,this.scheduler))}}class w extends p.a{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(f,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function f(e){e.debouncedNext()}var v=r("VfN6"),P=r("7dP1"),y=r("YK5D"),C=r("7kUa"),x=r("YE7A"),Q=r("+YxP"),R=r("jIHw"),E=r("/RsI");const F=[{path:"",component:(()=>{let e=class{constructor(e,t,r){this.changeDetector=e,this.authService=t,this.touchedFormControl=r,this.showDialog=!1}ngOnInit(){this.initRegisterForm(),this.registrationForm.valueChanges.pipe(function(e,t=b){return r=>r.lift(new m(e,t))}(300)).subscribe(()=>{this.changeDetector.markForCheck()})}initRegisterForm(){this.registrationForm=new a.d({email:new a.b(null,[a.l.email,a.l.required]),password:new a.b(null,[a.l.required,a.l.minLength(8)]),repassword:new a.b(null,[a.l.required])},class{static repeatCharacterRegexRule(e){return t=>{if(!g.isNotPresent(t))return""!==t.value&&new RegExp("([^\\x00-\\x1F])\\1{"+(e-1)+"}").test(t.value)?{repeatCharacterRegexRule:{repeatCount:e}}:void 0}}static allowedCharacterRule(e){return t=>{if(g.isNotPresent(t))return;const r=t.value;let s=!0;const i=[];for(const n of r)-1===e.indexOf(n)&&(s=!1,-1===i.indexOf(n)&&i.push(n));return s?void 0:{allowedCharacterRule:{invalidChars:i,allowedChars:e}}}}static alphabeticalCharacterRule(e){return t=>{if(g.isNotPresent(t))return;const r=t.value;if(0===r.length)return;const s=r.replace(/[^A-Za-z]+/g,"");return s.length<e?{alphabeticalCharacterRule:{required:e,actual:s.length}}:void 0}}static digitCharacterRule(e){return t=>{if(g.isNotPresent(t))return;const r=t.value;if(0===r.length)return;const s=r.replace(/[^0-9\.]+/g,"");return s.length<e?{digitCharacterRule:{required:e,actual:s.length}}:void 0}}static lowercaseCharacterRule(e){return t=>{if(g.isNotPresent(t))return;const r=t.value;if(0===r.length)return;const s=r.replace(/[^a-z]+/g,"");return s.length<e?{lowercaseCharacterRule:{required:e,actual:s.length}}:void 0}}static uppercaseCharacterRule(e){return t=>{if(g.isNotPresent(t))return;const r=t.value;if(0===r.length)return;const s=r.replace(/[^A-Z]+/g,"");return s.length<e?{uppercaseCharacterRule:{required:e,actual:s.length}}:void 0}}static specialCharacterRule(e){return t=>{if(g.isNotPresent(t))return;const r=t.value;if(0===r.length)return;const s=r.replace(/[\w\s]+/g,"");return s.length<e?{specialCharacterRule:{required:e,actual:s.length}}:void 0}}static mismatchedPasswords(e,t){return r=>{if(r.get(e||"newPassword").value!==r.get(t||"confirmPassword").value)return g.addError(r.get(t||"confirmPassword"),"mismatchedPasswords",!0),{mismatchedPasswords:!0};g.removeError(r.get(t||"confirmPassword"),"mismatchedPasswords")}}}.mismatchedPasswords("password","repassword"))}get regForm(){return this.registrationForm.controls}onRegister(){this.registrationForm.valid?this.authService.register(this.registrationForm.value.email,this.registrationForm.value.password).pipe(Object(v.b)(this)).subscribe(()=>{this.showDialog=!0,this.changeDetector.detectChanges()},e=>{"EMAIL_EXISTS"===e.error.error.message&&this.regForm.email.setErrors({emailExist:!0})}):this.touchedFormControl.validateAllFormFields(this.registrationForm)}};return e.\u0275fac=function(t){return new(t||e)(o.Kb(o.h),o.Kb(P.a),o.Kb(y.a))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-registration"]],decls:45,vars:7,consts:[[1,"section","auth__section"],[1,"container"],[1,"form",3,"formGroup","ngSubmit"],[1,"p-inputgroup"],[1,"p-input-icon-left"],[1,"pi","pi-user"],["type","email","pInputText","","placeholder","email","formControlName","email"],[1,"invalid-message",3,"control"],["required",""],["email",""],["emailExist",""],["unknownError",""],[1,"pi","pi-lock"],["type","password","pPassword","","placeholder","password","formControlName","password",3,"feedback"],["minlength",""],["repassword",""],["type","password","pPassword","","placeholder","repeat password","formControlName","repassword",3,"feedback"],["type","submit","label","Register",1,"registration__button"],["routerLink","/login"],["header","Title","modal","true",3,"visible","visibleChange"]],template:function(e,t){1&e&&(o.Qb(0,"section",0),o.Qb(1,"div",1),o.Qb(2,"form",2),o.Xb("ngSubmit",function(){return t.onRegister()}),o.Qb(3,"div",3),o.Qb(4,"span",4),o.Lb(5,"i",5),o.Lb(6,"input",6),o.Pb(),o.Pb(),o.Qb(7,"app-validation",7),o.Qb(8,"span",8),o.rc(9,"Email is required."),o.Pb(),o.Qb(10,"span",9),o.rc(11,"Please put correct e-mail."),o.Pb(),o.Qb(12,"span",10),o.rc(13,"This email address is already being used, try another one."),o.Pb(),o.Qb(14,"span",11),o.rc(15,"An unknow error occured."),o.Pb(),o.Pb(),o.Qb(16,"div",3),o.Qb(17,"span",4),o.Lb(18,"i",12),o.Lb(19,"input",13),o.Pb(),o.Pb(),o.Qb(20,"app-validation",7),o.Qb(21,"span",14),o.rc(22,"Password is too short."),o.Pb(),o.Qb(23,"span",8),o.rc(24,"Password is required."),o.Pb(),o.Qb(25,"span",15),o.rc(26,"Your password and confirmation password do not match."),o.Pb(),o.Pb(),o.Qb(27,"div",3),o.Qb(28,"span",4),o.Lb(29,"i",12),o.Lb(30,"input",16),o.Pb(),o.Pb(),o.Qb(31,"app-validation",7),o.Qb(32,"span",15),o.rc(33,"Your password and confirmation password do not match."),o.Pb(),o.Qb(34,"span",8),o.rc(35,"Confirmation password is required."),o.Pb(),o.Pb(),o.Lb(36,"p-button",17),o.Pb(),o.Qb(37,"span"),o.rc(38,"Do you have already account ? "),o.Qb(39,"a",18),o.rc(40,"Log In"),o.Pb(),o.Pb(),o.Pb(),o.Qb(41,"p-dialog",19),o.Xb("visibleChange",function(e){return t.showDialog=e}),o.rc(42," Congratulations! You have been successfully registered ! "),o.Qb(43,"p-button",18),o.rc(44," Log in"),o.Pb(),o.Pb(),o.Pb()),2&e&&(o.zb(2),o.fc("formGroup",t.registrationForm),o.zb(5),o.fc("control",t.regForm.email),o.zb(12),o.fc("feedback",!1),o.zb(1),o.fc("control",t.regForm.password),o.zb(10),o.fc("feedback",!1),o.zb(1),o.fc("control",t.regForm.repassword),o.zb(10),o.fc("visible",t.showDialog))},directives:[a.m,a.i,a.e,a.a,C.a,a.h,a.c,x.a,Q.a,R.a,i.c,E.a,i.b],styles:[""],changeDetection:0}),e=Object(n.a)([Object(v.a)()],e),e})()}];let k=(()=>{class e{}return e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)},imports:[[i.d.forChild(F)],i.d]}),e})();var I=r("PCNd");let N=(()=>{class e{}return e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)},imports:[[s.c,k,a.k,C.b,Q.b,R.b,I.a]]}),e})()}}]);